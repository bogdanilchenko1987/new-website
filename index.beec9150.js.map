{"mappings":"gfAAA,IASEA,EACgBC,EAVlBC,EAAAC,EAAA,S,uCAOMC,GADSC,SAASC,cAAc,cACzBD,SAASC,cAAc,aAC9BC,EACkD,QAAtDP,EAAAQ,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOC,uBAAe,IAAtDb,IAA0D,GACtDc,EAA+D,QAAnDb,EAAAO,KAAKC,MAAMC,aAAaC,QAAQT,EAAAU,OAAOG,oBAAY,IAAnDd,IAAuD,GAgCzE,SAASe,EAAYC,GACnB,IAAMC,EAAYC,OAAOF,EAAYG,QAAQ,YAAYC,QAAQC,IACjE,OAAOC,EAAAC,YAAYC,MAAK,SAAAC,G,OAAKA,EAAFJ,KAAgBJ,C,KAhC7C,EAAAS,EAAAC,cAAaL,EAAAC,YAAapB,GAE1BA,EAAKyB,iBAAiB,SAEtB,SAAiBC,GAGf,GAFAA,EAAIC,iBAEAD,EAAIE,OAAOC,UAAUC,SAAS,WAAY,CAC5C,IAAMC,EAAUnB,EAAYc,EAAIE,SAChC,EAAAI,EAAAC,aAAYF,E,CAGd,GAAIL,EAAIE,OAAOC,UAAUC,SAAS,aAAc,CAC9C,IAAMI,EAAUtB,EAAYc,EAAIE,QAChClB,EAAUyB,KAAKD,GACf5B,aAAa8B,QAAQtC,EAAAU,OAAOG,WAAYP,KAAKiC,UAAU3B,G,CAGzD,GAAIgB,EAAIE,OAAOC,UAAUC,SAAS,gBAAiB,CACjD,IAAMQ,EAAU1B,EAAYc,EAAIE,QAEhC,GADkBzB,EAAaoC,MAAK,SAAAjB,G,OAAKA,EAAFJ,KAAgBoB,EAAQpB,E,IAE7D,OAGFf,EAAagC,KAAKG,GAClBhC,aAAa8B,QAAQtC,EAAAU,OAAOC,cAAeL,KAAKiC,UAAUlC,G","sources":["src/index.js"],"sourcesContent":["import { common } from './common';\nimport { createmarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { instruments } from './helpers/instruments';\n// import 'basiclightbox/dist/basiclightbox.min.css';\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nconst favouriteArr =\n  JSON.parse(localStorage.getItem(common.KEY_FAVOURITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\ncreatemarkup(instruments, list);\n\nlist.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n\n  if (evt.target.classList.contains('js-info')) {\n    const product = findProduct(evt.target);\n    createModal(product);\n  }\n\n  if (evt.target.classList.contains('js-basket')) {\n    const product = findProduct(evt.target);\n    basketArr.push(product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n\n  if (evt.target.classList.contains('js-favourite')) {\n    const product = findProduct(evt.target);\n    const inStorage = favouriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n\n    favouriteArr.push(product);\n    localStorage.setItem(common.KEY_FAVOURITE, JSON.stringify(favouriteArr));\n  }\n}\n\nfunction findProduct(htmlElement) {\n  const productId = Number(htmlElement.closest('.js-card').dataset.id);\n  return instruments.find(({ id }) => id === productId);\n}\n"],"names":["$b8f9b7833fa37166$var$ref","$b8f9b7833fa37166$var$ref1","$7jJJd","parcelRequire","$b8f9b7833fa37166$var$list","document","querySelector","$b8f9b7833fa37166$var$favouriteArr","JSON","parse","localStorage","getItem","common","KEY_FAVOURITE","$b8f9b7833fa37166$var$basketArr","KEY_BASKET","$b8f9b7833fa37166$var$findProduct","htmlElement","productId","Number","closest","dataset","id","$IPVlA","instruments","find","param","$l1rGz","createmarkup","addEventListener","evt","preventDefault","target","classList","contains","product","$87LyB","createModal","product1","push","setItem","stringify","product2","some"],"version":3,"file":"index.beec9150.js.map"}